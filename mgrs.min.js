/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/mgrs@1.0.0/mgrs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var NUM_100K_SETS=6,SET_ORIGIN_COLUMN_LETTERS="AJSAJS",SET_ORIGIN_ROW_LETTERS="AFAFAF",A=65,I=73,O=79,V=86,Z=90;export default{forward:forward,inverse:inverse,toPoint:toPoint};export function forward(t,e){return e=e||5,encode(LLtoUTM({lat:t[1],lon:t[0]}),e)}export function inverse(t){var e=UTMtoLL(decode(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}export function toPoint(t){var e=UTMtoLL(decode(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function degToRad(t){return t*(Math.PI/180)}function radToDeg(t){return t/Math.PI*180}function LLtoUTM(t){var e,r,a,n,o,i,h,s=t.lat,c=t.lon,g=6378137,M=.00669438,f=.9996,u=degToRad(s),l=degToRad(c);h=Math.floor((c+180)/6)+1,180===c&&(h=60),s>=56&&s<64&&c>=3&&c<12&&(h=32),s>=72&&s<84&&(c>=0&&c<9?h=31:c>=9&&c<21?h=33:c>=21&&c<33?h=35:c>=33&&c<42&&(h=37)),i=degToRad(6*(h-1)-180+3),e=.006739496752268451,r=g/Math.sqrt(1-M*Math.sin(u)*Math.sin(u)),a=Math.tan(u)*Math.tan(u),n=e*Math.cos(u)*Math.cos(u);var d=f*r*((o=Math.cos(u)*(l-i))+(1-a+n)*o*o*o/6+(5-18*a+a*a+72*n-58*e)*o*o*o*o*o/120)+5e5,b=f*(g*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3.418046101696858e-9*Math.sin(6*u))+r*Math.tan(u)*(o*o/2+(5-a+9*n+4*n*n)*o*o*o*o/24+(61-58*a+a*a+600*n-2.2240339282485886)*o*o*o*o*o*o/720));return s<0&&(b+=1e7),{northing:Math.round(b),easting:Math.round(d),zoneNumber:h,zoneLetter:getLetterDesignator(s)}}function UTMtoLL(t){var e=t.northing,r=t.easting,a=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,i,h,s,c,g,M,f,u,l=.9996,d=6378137,b=.00669438,I=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),T=r-5e5,v=e;a<"N"&&(v-=1e7),M=6*(n-1)-180+3,o=.006739496752268451,u=(f=v/l/6367449.145945056)+(3*I/2-27*I*I*I/32)*Math.sin(2*f)+(21*I*I/16-55*I*I*I*I/32)*Math.sin(4*f)+151*I*I*I/96*Math.sin(6*f),i=d/Math.sqrt(1-b*Math.sin(u)*Math.sin(u)),h=Math.tan(u)*Math.tan(u),s=o*Math.cos(u)*Math.cos(u),c=.99330562*d/Math.pow(1-b*Math.sin(u)*Math.sin(u),1.5),g=T/(i*l);var L=u-i*Math.tan(u)/c*(g*g/2-(5+3*h+10*s-4*s*s-9*o)*g*g*g*g/24+(61+90*h+298*s+45*h*h-1.6983531815716497-3*s*s)*g*g*g*g*g*g/720);L=radToDeg(L);var S,k=(g-(1+2*h+s)*g*g*g/6+(5-2*s+28*h-3*s*s+8*o+24*h*h)*g*g*g*g*g/120)/Math.cos(u);if(k=M+radToDeg(k),t.accuracy){var N=UTMtoLL({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});S={top:N.lat,right:N.lon,bottom:L,left:k}}else S={lat:L,lon:k};return S}function getLetterDesignator(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function encode(t,e){var r="00000"+t.easting,a="00000"+t.northing;return t.zoneNumber+t.zoneLetter+get100kID(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+a.substr(a.length-5,e)}function get100kID(t,e,r){var a=get100kSetForZone(r);return getLetter100kID(Math.floor(t/1e5),Math.floor(e/1e5)%20,a)}function get100kSetForZone(t){var e=t%NUM_100K_SETS;return 0===e&&(e=NUM_100K_SETS),e}function getLetter100kID(t,e,r){var a=r-1,n=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(a),o=SET_ORIGIN_ROW_LETTERS.charCodeAt(a),i=n+t-1,h=o+e,s=!1;return i>Z&&(i=i-Z+A-1,s=!0),(i===I||n<I&&i>I||(i>I||n<I)&&s)&&i++,(i===O||n<O&&i>O||(i>O||n<O)&&s)&&++i===I&&i++,i>Z&&(i=i-Z+A-1),h>V?(h=h-V+A-1,s=!0):s=!1,(h===I||o<I&&h>I||(h>I||o<I)&&s)&&h++,(h===O||o<O&&h>O||(h>O||o<O)&&s)&&++h===I&&h++,h>V&&(h=h-V+A-1),String.fromCharCode(i)+String.fromCharCode(h)}function decode(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,a=null,n="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,o++}var i=parseInt(n,10);if(0===o||o+3>r)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(o++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;a=t.substring(o,o+=2);for(var s=get100kSetForZone(i),c=getEastingFromChar(a.charAt(0),s),g=getNorthingFromChar(a.charAt(1),s);g<getMinNorthing(h);)g+=2e6;var M=r-o;if(M%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,u,l,d=M/2,b=0,I=0;return d>0&&(f=1e5/Math.pow(10,d),u=t.substring(o,o+d),b=parseFloat(u)*f,l=t.substring(o+d),I=parseFloat(l)*f),{easting:b+c,northing:I+g,zoneLetter:h,zoneNumber:i,accuracy:f}}function getEastingFromChar(t,e){for(var r=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(e-1),a=1e5,n=!1;r!==t.charCodeAt(0);){if(++r===I&&r++,r===O&&r++,r>Z){if(n)throw"Bad character: "+t;r=A,n=!0}a+=1e5}return a}function getNorthingFromChar(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=SET_ORIGIN_ROW_LETTERS.charCodeAt(e-1),a=0,n=!1;r!==t.charCodeAt(0);){if(++r===I&&r++,r===O&&r++,r>V){if(n)throw"Bad character: "+t;r=A,n=!0}a+=1e5}return a}function getMinNorthing(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}
//# sourceMappingURL=/sm/675058a3f508ad9a8aa92b9fa0dff9b9c715218a4a8e3fd373bc28d29e1dcef7.map